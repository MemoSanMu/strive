<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      function longestPalindrome(s) {
        let start = 0,
          end = 1;
        const len = s.length;
        if (len < 2) {
          return s;
        }
        for (let i = 0; i < len; i++) {
          helper(i, i);
          i > 0 && helper(i - 1, i);
        }
        function helper(left, right) {
          while (left >= 0 && right < len) {
            if (s.charAt(left) === s.charAt(right)) {
              left--;
              right++;
            } else {
              break;
            }
          }
          // 更新答案
          // 这个计算需要先加，再减
          if (end - start < right - (left + 1)) {
            start = left + 1;
            end = right;
          }
        }
        console.log(start, end);
        return s.slice(start, end);
      }
      console.log(longestPalindrome('cbbd'));
    </script>
  </body>
</html>
