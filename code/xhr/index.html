<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      //         AJAX - 创建 XMLHttpRequest 对象
      // XMLHttpRequest 是 AJAX 的基础。

      // XMLHttpRequest 对象
      // 所有现代浏览器均支持 XMLHttpRequest 对象（IE5 和 IE6 使用 ActiveXObject）。

      // XMLHttpRequest 用于在后台与服务器交换数据。这意味着可以在不重新加载整个网页的情况下，对网页的某部分进行更新。

      // 创建 XMLHttpRequest 对象
      // 所有现代浏览器（IE7+、Firefox、Chrome、Safari 以及 Opera）均内建 XMLHttpRequest 对象。

      // 创建 XMLHttpRequest 对象的语法：

      // variable=new XMLHttpRequest();
      // 老版本的 Internet Explorer （IE5 和 IE6）使用 ActiveX 对象：

      // variable=new ActiveXObject("Microsoft.XMLHTTP");
      // 为了应对所有的现代浏览器，包括 IE5 和 IE6，请检查浏览器是否支持 XMLHttpRequest 对象。如果支持，则创建 XMLHttpRequest 对象。如果不支持，则创建 ActiveXObject ：

      new Promise((resolve, reject) => {
        const xhr = window.XMLHttpRequest
          ? new XMLHttpRequest()
          : new ActiveXObject('Microsoft.XMLHTTP');
        xhr.open('get', 'fetch url', true);
        xhr.onreadystatechange = () => {
          if (xhr.readyState === 4 && xhr.status == 200) {
            resolve(JSON.parse(xhr.responseText));
          }
        };
        xhr.onerror = (err) => {
          reject(err);
        };
        xhr.send(null); // post 传参数，get拼接参数在url上
      });
    </script>
  </body>
</html>
